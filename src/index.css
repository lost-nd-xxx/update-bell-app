@tailwind base;
@tailwind components;
@tailwind utilities;

/* カスタムスタイル */
@layer base {
  html {
    font-family:
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      sans-serif;
    /* スクロールバーのガタつき防止のため、常にy軸のスクロールバー領域を確保 */
    overflow-y: scroll;
  }

  body {
    @apply bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white transition-colors;
  }
}

@layer components {
  /* 入力フィールドの基本スタイル */
  .input {
    @apply w-full px-2 py-1 border rounded-lg transition-colors focus:ring-2 focus:ring-purple-500 focus:border-transparent
           bg-white text-gray-900 border-gray-300; /* @applyでTailwindユーティリティを使用 */
  }

  .input::placeholder {
    @apply text-gray-500;
  }

  /* ダークテーマ */
  .dark .input {
    @apply bg-gray-800 text-white border-gray-600; /* @applyでTailwindユーティリティを使用し、!importantを削除 */
  }

  .dark .input::placeholder {
    @apply text-gray-400;
  }

  /* select要素も同様に設定 */
  .dark select.input {
    @apply text-white; /* !important を削除 */
  }

  /* input要素のautofill対応 */
  /* autofillはブラウザのデフォルトスタイルを上書きするため、!importantは残す。カラーコードはコメントでTailwind名を示す */
  .dark .input:-webkit-autofill,
  .dark .input:-webkit-autofill:hover,
  .dark .input:-webkit-autofill:focus {
    -webkit-text-fill-color: white !important;
    -webkit-box-shadow: 0 0 0px 1000px #374151 /* gray-700 */ inset !important;
    transition: background-color 5000s ease-in-out 0s;
  }

  /* タグスタイル */
  .tag {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
}

@layer utilities {
  /* アニメーション */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  /* スクロールバーのスタイリング */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(156 163 175) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(156 163 175);
    border-radius: 3px;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(75 85 99);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
