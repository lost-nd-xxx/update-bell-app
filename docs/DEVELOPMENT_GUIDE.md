# 開発ガイドライン (Development Guide)

このドキュメントは、`update-bell-app`プロジェクトの開発における規約、設計思想、および重要な注意点を記載します。
開発に参加するすべてのメンバー（人間とAIエージェントを含む）は、このガイドラインに従ってください。

## 1. 開発環境と必須コマンド

### 開発サーバーの起動

ローカルでの開発には、必ず以下のコマンドを使用してください。

```bash
npm run dev
```

**理由:**

- Viteのプロキシ設定（`vite.config.ts`の`server.proxy`）は`npm run dev`でのみ有効です。
- `npm run preview`はビルド後の確認用であり、プロキシは機能しません。

> **Note:** `vite.config.ts`を変更した場合は、必ず開発サーバーを再起動して設定を反映させてください。

### コミット前のチェック

コードをコミットする前には、必ず以下のコマンドを実行し、静的解析とフォーマットをパスすることを確認してください。

```bash
npm run check:fix
```

これにより、コードの品質と一貫性が保たれます。

## 2. 設計思想と重要な仕様

### 通知設定のインポート/エクスポート

- **インポート:** JSONファイルからのインポートでは、通知方法（ローカル/プッシュ）は**現在のアプリの設定を維持します**。インポートデータに含まれる通知方法の設定は意図的に無視されます。
- **エクスポート:** エクスポートされるJSONデータには、通知方法は含まれません。

**理由:**
「データのインポート」と「通知設定の変更」という、副作用の大きさが異なる操作を明確に分離し、ユーザーが意図しないデータ損失や設定変更を防ぐためです。

### アカウント機能とデバイス管理

- 本アプリケーションは、意図的にユーザーアカウント登録機能を実装していません。
- そのため、複数デバイス間で設定やデータを自動的に同期するシナリオはサポートしていません。
- プッシュ通知の購読管理は、各ブラウザ（デバイス）で閉じており、通知方法のラジオボタン操作に集約されています。

## 3. コミットメッセージのガイドライン

コミットメッセージは、Conventional Commitsの規約に準拠し、日本語で記述してください。

- **フォーマット:** `[Prefix]: [簡潔な内容]`
- **Prefixの例:**
  - `feat`: 新機能の追加
  - `fix`: バグ修正
  - `refactor`: パフォーマンス向上や可読性向上など、仕様に影響しないコード修正
  - `docs`: ドキュメントの追加・修正
  - `chore`: ビルドプロセスや補助ツールの変更など（`.gitignore`の修正など）
- **本文:** 変更の理由や背景を簡潔に記述します（任意）。
