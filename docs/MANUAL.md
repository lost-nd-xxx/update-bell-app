# おしらせベル 利用者向け説明書

## 目次

- [はじめに](#はじめに)
- [アプリのインストール (PWA)](#アプリのインストール-pwa)
- [対応環境](#対応環境)
- [アプリの使い方](#アプリの使い方)
- [設定画面でできること](#設定画面でできること)
- [よくある質問（FAQ）](#よくある質問faq)

---

## はじめに

「おしらせベル」は、URLを添えてリマインド通知するPWA（Progressive Web App）です。
ウェブ漫画の更新チェック、新商品の発売確認、イベント開催チェックなど、定期的に確認したいウェブページを忘れずにチェックできます。

### 特徴

- **PWA対応** - ホーム画面にインストール可能、アプリのような使い心地
- **柔軟な通知設定** - 毎日・毎週・毎月（第n曜日）など多彩な周期設定
- **タグ機能** - リマインダーを分類・検索で効率的に管理
- **ダークモード** - ライト・ダーク・システム準拠の3モード
- **データ管理** - JSON形式でのエクスポート/インポート対応
- **一時停止機能** - 休載期間中や一時的に通知を停止
- **タイムゾーン対応** - 移動時の時刻調整をサポート
- **検索・フィルター** - タイトル・URL・タグでの絞り込み

## アプリのインストール (PWA)

「おしらせベル」はPWA（Progressive Web App）として提供されており、Webサイトでありながらアプリのように利用できます。ホーム画面に追加することで、より安定した通知を受け取れます。

### インストール方法

お使いのブラウザによって手順は異なりますが、多くの場合、ブラウザのアドレスバー付近に表示されるインストールアイコン（またはメニュー内）から「インストール」や「ホーム画面に追加」を選択します。

- **PC (Chromeなど)**: アドレスバー右端に表示される「インストール」アイコンをクリックします。
- **スマートフォン (Chrome, Safariなど)**: ブラウザのメニュー（通常は右上の3点リーダーや共有アイコン）から「ホーム画面に追加」または「インストール」を選択します。

## 対応環境

- **ブラウザ**: Chrome、Firefox、Safari、Edge（最新版推奨）
- **OS**: Windows、macOS、Linux、Android、iOS
- **通知**: ブラウザの通知機能を使用（PWAインストール推奨）

## アプリの使い方

### 基本的なリマインダーの作成

1.  **「+」ボタンをクリック**: アプリのダッシュボード画面にある「+」ボタンをタップまたはクリックします。
2.  **タイトルとURLを入力**: リマインダーのタイトル（例: 「ウェブサイトの更新」）と、通知で開きたいウェブページのURL（例: `https://example.com/updates`）を入力します。
3.  **通知周期と時刻を設定**: 毎日、毎週、毎月など、リマインダーの通知を受け取りたい周期と時刻を設定します。
4.  **タグを追加（任意）**: リマインダーを分類・検索しやすくするために、タグ（例: 「漫画」「趣味」）を追加できます。
5.  **保存**: 設定を保存すると、リマインダーが作成され、通知がスケジュールされます。

### リマインダーの管理機能

ダッシュボード画面では、作成したリマインダーを一覧で確認し、以下の操作ができます。

- **一時停止**: コンテンツの休載期間中など、一時的に通知を停止したい場合に利用します。
- **編集**: タイトル、URL、通知周期、時刻、タグなどの設定を変更します。
- **複製**: 似たようなリマインダーを簡単に作成したい場合に便利です。
- **削除**: 不要になったリマインダーを削除します。

### 周期設定の詳細

リマインダーの通知周期は、以下の中から選択できます。

- **毎日**: 指定時刻に毎日通知します。
- **数日ごと**: 設定した日数間隔（例: 3日ごと）で通知します。
- **毎週○曜日**: 特定の曜日（例: 毎週月曜日）に通知します。
- **毎週☆曜日（複数）**: 複数の曜日（例: 毎週月曜と水曜）を選択して通知します。
- **毎月第△週◇曜日**: 月の第n週の特定曜日（例: 毎月第2週の火曜日）に通知します。

## 設定画面でできること

アプリの設定画面（通常はメニューアイコンなどからアクセス）では、アプリの動作や見た目をカスタマイズできます。

- **テーマの変更**: ライトモード、ダークモード、またはシステムの設定に合わせたテーマを選択できます。
- **プッシュ通知の設定**: 通知方法の選択（ローカル通知/高信頼性プッシュ通知）や、プッシュ通知の有効/無効を切り替えることができます。
- **データ管理**:
  - **データエクスポート**: 設定したリマインダーやアプリの設定をJSONファイルとしてダウンロードし、バックアップできます。
  - **データインポート**: バックアップしたJSONファイルからデータを復元できます。
  - **すべてのデータを削除**: アプリに保存されているすべてのリマインダーと設定を削除します（この操作は取り消せません）。

## よくある質問（FAQ）

### Q. 通知が届かないのですが？

通知機能は、選択した通知方法やブラウザ・OSの設定によって挙動が異なります。

- **ローカル通知 (シンプル) の場合**:
  - 通知を受け取るには、アプリ（PWA）がバックグラウンドで動作している必要があります。
  - アプリを完全に終了した場合や、端末の省電力モードが強く働いている場合は、通知が届きません。
- **プッシュ通知 (高信頼性) の場合**:
  - アプリを閉じていても通知が届きますが、OSの省電力設定などの影響を受ける場合があります。
  - 一時的なネットワークの問題などで通知の送信に失敗することがあります。その際、アプリは自動的に数回再試行を行いますが、それでも成功しない場合、そのリマインダーは「通知エラー」として自動的に一時停止されます。カードに「通知エラー」と表示された場合は、一度リマインダーを「再開」して、設定やネットワーク環境をご確認ください。
  - 通知には数十分から数時間の遅延が生じる可能性があります。
- **推奨事項**:
  - いずれの通知方法でも、PWAとしてインストールしてご利用いただくことを強く推奨します。

### Q. アプリのデータはどこに保存されますか？ 消えることはありますか？

アプリのデータは、種類によって保存場所と取り扱いが異なります。

- **リマインダーの基本設定**: お使いのブラウザのローカルストレージに保存されます。ブラウザのキャッシュを削除するとデータが失われる可能性があるため、定期的なデータのエクスポートを推奨します。
- **プッシュ通知選択時のサーバーデータ**: 高信頼性プッシュ通知を選択した場合、リマインダーの内容と通知先情報がサーバー（Vercel KV）に保存されます。
- **データ自動削除**: 最後に通知をクリックしてから半年間ご利用がないユーザーのサーバーデータ（リマインダーおよび購読情報）は、自動的に削除されます。詳細は[プライバシーポリシー](PRIVACY_POLICY.md)をご確認ください。

### Q. 無料で利用できますか？

はい、基本的には無料でご利用いただけます。ただし、ライブデモ環境は無料枠のサービス上で動作しています。利用者が非常に大規模になった場合、プッシュ通知の遅延や、通知が届かなくなるなど、動作に影響が出る可能性があります。個人用途であれば問題なく動作しますが、もし大規模な利用を検討される場合は、ご自身の環境でデプロイすることを推奨します。

### Q. 作成できるリマインダーの数や文字数に上限はありますか？

はい、サービスの安定運用のため、いくつかの制限を設けています。通常のご利用で問題になることはありませんが、以下の点にご留意ください。

- **リマインダーの総数**: 1ユーザーあたり **1,000件** まで作成できます。
- **1リマインダーあたりのタグ数**: **20個** まで設定できます。
- **各項目の文字数**:
  - **タイトル**: 200文字まで
  - **URL**: 2,000文字まで
  - **タグ**: 50文字まで
- **APIの利用回数**: 短時間に連続して操作を行うと、一時的にリクエストが制限される場合があります。その場合は、少し時間をおいてから再度お試しください。

これらの制限は、すべてのユーザーが快適にサービスを利用できるようにするためのものです。ご理解のほど、よろしくお願いいたします。

### Q. アプリはオフラインでも使えますか？

はい、選択している**通知方法**によって、オフラインで利用できる範囲が異なります。

#### 「ローカル通知」を選択している場合

リマインダーの作成・編集・削除を含め、**ほぼ全ての機能がオフラインで動作します**。データはお使いのブラウザ内にのみ保存されます。

#### 「プッシュ通知（高信頼性）」を選択している場合

データをサーバーと同期する必要があるため、オフラインでできることとできないことがあります。

- **オフラインでできること:**
  - 作成済みのリマインダー一覧の閲覧・検索
- **オフラインでできないこと（オンライン接続が必要です）:**
  - リマインダーの新規作成・編集・削除
  - プッシュ通知の有効化・無効化

オフライン状態でリマインダーの作成や編集を行うと、サーバーと通信できないためエラーメッセージが表示されます。その場合は、オンライン環境で再度操作をお試しください。

### Q. 機密情報を入力しても大丈夫ですか？

他人に知られて困るような個人情報や機密情報は入力しないでください。アプリ管理者は、デバッグ等の目的でリマインダーの内容を閲覧する可能性があります。
